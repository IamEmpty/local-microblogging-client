$(document).ready(function(){$("body").saveToLocalStorage()});"use strict";(function(a){a.fn.saveToLocalStorage=function(b){var c={heading:".new-post__heading",text:".new-post__main-text",submit:".new-post__submit",newsList:".news-list",post:".news-list__item",after:".news-list__item_first",removePost:".remove-post"};return this.each(function(){var h=a.extend({},c,b),g=a(h.heading,this),f=a(h.text,this),k=a(h.submit,this),e=a(h.newsList,this),d=h.post,j=a(h.after,this),i=h.removePost;a.getJSON("https://api.myjson.com/bins/5a7kb",function(m){a.each(m.posts,function(n){var o=m.posts[n][0];var p=m.posts[n][1];e.append('<li class="news-list__item"><h3 class="h3"><a class="h3__link" href="#">'+o+'</a></h3><p class="p">'+p+'</p><button class="btn btn-default remove-post" title="Remove post" type="button"><i class="glyphicon glyphicon-trash"></i></button></li>')});localStorage.setItem("testObject",JSON.stringify(m.posts));var l=localStorage.getItem("testObject");console.log("retrievedObject: ",JSON.parse(l));console.log(toObject())});k.on("click",function(n){var m=g.val();var l=f.val();localStorage.setItem("headingValue",m);localStorage.setItem("textValue",l);console.log(localStorage.getItem("headingValue"));console.log(localStorage.getItem("textValue"));j.after('<li class="news-list__item"><h3 class="h3"><a class="h3__link" href="#">'+m+'</a></h3><p class="p">'+l+'</p><button class="btn btn-default remove-post" title="Remove post" type="button"><i class="glyphicon glyphicon-trash"></i></button></li>');n.preventDefault()});e.on("click",i,function(l){a(this).parent(d).slideUp(400,function(){this.remove()});l.preventDefault()})})}}(jQuery));